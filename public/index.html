<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Mesh Optimizer · Upload → Optimize → Download</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --bg:#0b1220; --card:#101826; --text:#eef2ff; --muted:#9aa4b2; --brand:#22c55e; --danger:#ef4444; --ring:rgba(34,197,94,.2); }
    *{box-sizing:border-box}
    body{margin:0; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Arial; color:var(--text); background:var(--bg);}
    .wrap{max-width:760px; margin:40px auto; padding:0 16px;}
    .card{background:var(--card); border:1px solid #1f2a3a; border-radius:14px; padding:16px; box-shadow:0 10px 30px rgba(0,0,0,.35);}
    h1{margin:0 0 8px; font-size:20px}
    p{color:var(--muted); margin:8px 0 16px}
    label{display:block; font-size:12px; color:var(--muted); margin-top:10px}
    input[type="file"]{width:100%}
    .drop{margin-top:10px; padding:24px; border:1.5px dashed #2a3a54; border-radius:12px; text-align:center; color:#bcd0ff; background:#0c1322;}
    .drop.dragover{outline:2px dashed var(--brand); outline-offset:-6px}
    .progress{height:10px; background:#0c1322; border:1px solid #1f2a3a; border-radius:99px; overflow:hidden; margin-top:10px}
    .fill{height:100%; width:0%; background:var(--brand); transition:width .25s ease}
    .status{margin-top:10px; padding:10px; border-radius:8px; background:#0d1b2f; border-left:4px solid #2ea8ff; color:#cfe8ff}
    .status.error{background:#2a1111; border-left-color:var(--danger); color:#ffd3d3}
    .right{display:flex; gap:8px; justify-content:flex-end; margin-top:10px}
    .btn{appearance:none; border:0; border-radius:10px; padding:10px 14px; cursor:pointer; background:#1a2435; color:var(--text); font-weight:600}
    .btn:hover{background:#223049}
    .btn.primary{background:var(--brand); color:#031b0e}
    .btn.primary:hover{filter:brightness(.95)}
    .btn.danger{background:var(--danger); color:#230a0a}
    .hint{font-size:12px; margin-top:6px; color:var(--muted)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Mesh Optimizer</h1>
      <p>Upload a 3D file</p>

      <label>Upload Model (GLB direct, or FBX/OBJ/DAE/GLTF/3DS/BLEND/PLY/STL/STP)</label>
      <input id="fileInput" type="file" accept=".glb,.fbx,.obj,.dae,.gltf,.3ds,.blend,.ply,.stl,.stp" />
      <div id="drop" class="drop">…or drag & drop your file here</div>
      <div class="hint">Large files are supported; processing time varies.</div>

      <div id="status" class="status" style="display:none">Ready.</div>
      <div class="progress"><div id="fill" class="fill"></div></div>

      <!-- NEW: stable ETA + elapsed + final total -->
      <div id="eta" class="hint">Estimated time remaining: 0s</div>
      <div id="elapsed" class="hint">Elapsed: 0s</div>
      <div id="totalTime" class="hint" style="display:none">Total time: —</div>

      <div class="right">
        <button id="cancelBtn" class="btn danger" style="display:none">Cancel</button>
        <a id="downloadBtn" class="btn" style="display:none">Download</a>
      </div>
    </div>
  </div>

  <script src="./app.js" defer></script>
</body>
</html>
